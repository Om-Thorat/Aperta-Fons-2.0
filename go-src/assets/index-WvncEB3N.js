var we=Object.defineProperty;var $e=(t,e,n)=>e in t?we(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>($e(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function v(){}function pe(t){return t()}function re(){return Object.create(null)}function A(t){t.forEach(pe)}function he(t){return typeof t=="function"}function M(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function xe(t){return Object.keys(t).length===0}function f(t,e){t.appendChild(e)}function P(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function S(){return C(" ")}function ye(){return C("")}function W(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ve(t){return Array.from(t.childNodes)}function O(t,e){e=""+e,t.data!==e&&(t.data=e)}function X(t,e){t.value=e??""}let V;function Y(t){V=t}function Se(){if(!V)throw new Error("Function called outside component initialization");return V}function oe(t){Se().$$.on_mount.push(t)}const q=[],ne=[];let B=[];const ce=[],ke=Promise.resolve();let se=!1;function Ce(){se||(se=!0,ke.then(ge))}function le(t){B.push(t)}const te=new Set;let z=0;function ge(){if(z!==0)return;const t=V;do{try{for(;z<q.length;){const e=q[z];z++,Y(e),Pe(e.$$)}}catch(e){throw q.length=0,z=0,e}for(Y(null),q.length=0,z=0;ne.length;)ne.pop()();for(let e=0;e<B.length;e+=1){const n=B[e];te.has(n)||(te.add(n),n())}B.length=0}while(q.length);for(;ce.length;)ce.pop()();se=!1,te.clear(),Y(t)}function Pe(t){if(t.fragment!==null){t.update(),A(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(le)}}function Le(t){const e=[],n=[];B.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),B=e}const Q=new Set;let T;function De(){T={r:0,c:[],p:T}}function Ee(){T.r||A(T.c),T=T.p}function I(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function N(t,e,n,s){if(t&&t.o){if(Q.has(t))return;Q.add(t),T.c.push(()=>{Q.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ie(t,e){t.d(1),e.delete(t.key)}function Oe(t,e,n,s,l,r,i,o,c,u,a,p){let g=t.length,d=r.length,h=g;const $={};for(;h--;)$[t[h].key]=h;const b=[],x=new Map,w=new Map,L=[];for(h=d;h--;){const y=p(l,r,h),D=n(y);let E=i.get(D);E?s&&L.push(()=>E.p(y,e)):(E=u(D,y),E.c()),x.set(D,b[h]=E),D in $&&w.set(D,Math.abs(h-$[D]))}const j=new Set,ie=new Set;function Z(y){I(y,1),y.m(o,a),i.set(y.key,y),a=y.first,d--}for(;g&&d;){const y=b[d-1],D=t[g-1],E=y.key,G=D.key;y===D?(a=y.first,g--,d--):x.has(G)?!i.has(E)||j.has(E)?Z(y):ie.has(G)?g--:w.get(E)>w.get(G)?(ie.add(E),Z(y)):(j.add(G),g--):(c(D,i),g--)}for(;g--;){const y=t[g];x.has(y.key)||c(y,i)}for(;d;)Z(b[d-1]);return A(L),b}function K(t){t&&t.c()}function F(t,e,n){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),le(()=>{const r=t.$$.on_mount.map(pe).filter(he);t.$$.on_destroy?t.$$.on_destroy.push(...r):A(r),t.$$.on_mount=[]}),l.forEach(le)}function H(t,e){const n=t.$$;n.fragment!==null&&(Le(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Te(t,e){t.$$.dirty[0]===-1&&(q.push(t),Ce(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(t,e,n,s,l,r,i=null,o=[-1]){const c=V;Y(t);const u=t.$$={fragment:null,ctx:[],props:r,update:v,not_equal:l,bound:re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:re(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};i&&i(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(p,g,...d)=>{const h=d.length?d[0]:g;return u.ctx&&l(u.ctx[p],u.ctx[p]=h)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](h),a&&Te(t,p)),g}):[],u.update(),a=!0,A(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const p=ve(e.target);u.fragment&&u.fragment.l(p),p.forEach(k)}else u.fragment&&u.fragment.c();e.intro&&I(t.$$.fragment),F(t,e.target,e.anchor),ge()}Y(c)}class U{constructor(){ee(this,"$$");ee(this,"$$set")}$destroy(){H(this,1),this.$destroy=v}$on(e,n){if(!he(n))return v;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ne="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ne);const R=[];function me(t,e=v){let n;const s=new Set;function l(o){if(M(t,o)&&(t=o,n)){const c=!R.length;for(const u of s)u[1](),R.push(u,t);if(c){for(let u=0;u<R.length;u+=2)R[u][0](R[u+1]);R.length=0}}}function r(o){l(o(t))}function i(o,c=v){const u=[o,c];return s.add(u),s.size===1&&(n=e(l,r)||v),o(t),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:l,update:r,subscribe:i}}const _e=me("home"),be=me("http://localhost:8080");function fe(t,e,n){const s=t.slice();return s[7]=e[n].Name,s[8]=e[n].Prs,s[10]=n,s}function ae(t){let e=[],n=new Map,s,l=ue(t[0]);const r=i=>i[10];for(let i=0;i<l.length;i+=1){let o=fe(t,l,i),c=r(o);n.set(c,e[i]=de(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();s=ye()},m(i,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(i,o);P(i,s,o)},p(i,o){o&1&&(l=ue(i[0]),e=Oe(e,o,r,1,i,l,n,s.parentNode,Ie,de,s,fe))},d(i){i&&k(s);for(let o=0;o<e.length;o+=1)e[o].d(i)}}}function de(t,e){let n,s,l=e[10]+1+"",r,i,o,c=e[7]+"",u,a,p,g=(e[8]?e[8].length:0)+"",d,h;return{key:t,first:null,c(){n=m("div"),s=m("span"),r=C(l),i=S(),o=m("span"),u=C(c),a=S(),p=m("span"),d=C(g),h=S(),_(s,"class","text-2xl w-1/5 text-center"),_(o,"class","text-2xl w-3/5 text-center"),_(p,"class","text-2xl w-1/5 text-center"),_(n,"class","flex"),this.first=n},m($,b){P($,n,b),f(n,s),f(s,r),f(n,i),f(n,o),f(o,u),f(n,a),f(n,p),f(p,d),f(n,h)},p($,b){e=$,b&1&&l!==(l=e[10]+1+"")&&O(r,l),b&1&&c!==(c=e[7]+"")&&O(u,c),b&1&&g!==(g=(e[8]?e[8].length:0)+"")&&O(d,g)},d($){$&&k(n)}}}function Ae(t){let e,n,s,l,r,i,o,c,u,a,p,g,d,h,$,b,x,w=t[1]&&ae(t);return{c(){e=m("div"),n=m("div"),s=m("span"),s.textContent="Dashboard",l=S(),r=m("button"),r.textContent="Sync Prs",i=S(),o=m("select"),c=m("option"),c.textContent="Your PRS",u=m("option"),u.textContent="Leaderboard",a=S(),p=m("div"),g=S(),d=m("div"),d.innerHTML='<span class="text-2xl w-1/5 text-center">Rank</span> <div class="divider divider-horizontal divider-info"></div> <span class="text-2xl w-3/5 text-center">Name</span> <div class="divider divider-horizontal divider-info"></div> <span class="text-2xl w-1/5 text-center">Total PRs</span>',h=S(),$=m("div"),w&&w.c(),_(s,"class","text-6xl w-[70%] font-mono font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[#12c2e9] via-[#c471ed] to-[#f64f59]"),_(r,"class","btn btn-outline rounded-2xl"),c.__value="Your PRS",X(c,c.__value),u.selected=!0,u.__value="Leaderboard",X(u,u.__value),_(o,"class","select h-4/5 text-lg font-mono w-[30%] bg-transparent rounded-3xl focus:outline-none select-primary max-w-xs"),_(n,"class","flex items-center gap-5"),_(p,"class","divider divider-info"),_(d,"class","flex"),_($,"class","flex flex-col gap-6 pt-6"),_(e,"class","pt-12 flex flex-col w-3/5")},m(L,j){P(L,e,j),f(e,n),f(n,s),f(n,l),f(n,r),f(n,i),f(n,o),f(o,c),f(o,u),f(e,a),f(e,p),f(e,g),f(e,d),f(e,h),f(e,$),w&&w.m($,null),b||(x=W(r,"click",t[2]),b=!0)},p(L,[j]){L[1]?w?w.p(L,j):(w=ae(L),w.c(),w.m($,null)):w&&(w.d(1),w=null)},i:v,o:v,d(L){L&&k(e),w&&w.d(),b=!1,x()}}}function Me(t,e,n){let s,l="",r=!1,i;async function o(){console.log(`${l}/api/all`);let a=await fetch(`${l}/api/all`);n(0,s=await a.json()),console.log(s),n(1,r=!0)}async function c(){let a=await fetch(`${l}/api/getuser/${i}`);a=await a.json();let p=a.Prs[a.Prs.length-1];console.log(p);let g=await fetch("https://api.github.com/search/issues?q=state%3Aclosed+author%3A${user}+type%3Apr");g=await g.json(),console.log(g);let d=g.items;console.log(d);for(let h=0;h<d.length;h++){let $=new Date(d[h].created_at).getTime(),b=new Date("07 Dec 23").getTime();if(d[h].id==p.ID)break;$>b&&(console.log("nice"),console.log(d[h]),fetch(`${l}/api/inpr`,{method:"POST",body:JSON.stringify({Name:d[h].user.login.toLowerCase(),Title:d[h].title,Link:d[h].html_url,ID:`${d[h].id}`}),headers:{"Content-type":"application/json; charset=UTF-8"}}))}}function u(){i=localStorage.getItem("user"),be.subscribe(a=>{l=a,console.log(l)}),o()}return oe(u),[s,r,c]}class je extends U{constructor(e){super(),J(this,e,Me,Ae,M,{})}}function ze(t){let e;return{c(){e=m("div"),e.innerHTML='<span class="text-8xl font-mono font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[#12c2e9] via-[#c471ed] to-[#f64f59] tracking-widest">Aperta Fons</span> <div class="flex flex-col gap-1"><span class="text-2xl font-bold w-full ">A month long Opensource challenge</span> <span class="w-full ">Presented by The Programming Club IIITDMJ.</span></div>',_(e,"class","flex flex-col justify-end gap-4 h-[40%] w-[50%]")},m(n,s){P(n,e,s)},p:v,i:v,o:v,d(n){n&&k(e)}}}class Re extends U{constructor(e){super(),J(this,e,null,ze,M,{})}}function qe(t){let e,n,s,l,r;return{c(){e=m("button"),e.textContent="Dashboard",n=S(),s=m("button"),s.textContent="Discord",_(e,"class","btn btn-outline h-3/5 w-1/3"),_(s,"class","btn btn-outline h-3/5 w-1/3")},m(i,o){P(i,e,o),P(i,n,o),P(i,s,o),l||(r=W(e,"click",t[0]),l=!0)},p:v,i:v,o:v,d(i){i&&(k(e),k(n),k(s)),l=!1,r()}}}function Be(t){function e(){_e.set("dashboard")}return[e]}class Fe extends U{constructor(e){super(),J(this,e,Be,qe,M,{})}}function He(t){return new Promise(e=>setTimeout(e,t))}function Je(t){let e,n,s,l,r,i,o,c,u,a,p,g,d,h,$,b;return s=new Fe({}),{c(){e=m("div"),n=m("div"),K(s.$$.fragment),l=S(),r=m("div"),i=m("span"),i.textContent="The contest is live until",o=S(),c=m("span"),u=C(t[0]),a=C(":"),p=C(t[1]),g=C(":"),d=C(t[2]),h=C(":"),$=C(t[3]),_(n,"class","w-1/2 h-full flex flex-row gap-7 justify-start items-end"),_(i,"class","text-lg"),_(c,"class","text-5xl font-mono font-extrabold"),_(r,"class","w-1/2 flex flex-col gap-3 items-end mr-10"),_(e,"class","flex flex-row gap-3 w-[50%] items-center")},m(x,w){P(x,e,w),f(e,n),F(s,n,null),f(e,l),f(e,r),f(r,i),f(r,o),f(r,c),f(c,u),f(c,a),f(c,p),f(c,g),f(c,d),f(c,h),f(c,$),b=!0},p(x,[w]){(!b||w&1)&&O(u,x[0]),(!b||w&2)&&O(p,x[1]),(!b||w&4)&&O(d,x[2]),(!b||w&8)&&O($,x[3])},i(x){b||(I(s.$$.fragment,x),b=!0)},o(x){N(s.$$.fragment,x),b=!1},d(x){x&&k(e),H(s)}}}function Ue(t,e,n){let s="99",l="99",r="99",i="99",{final:o}=e;async function c(){const u=new Date(o);for(;;){const p=new Date;var a=new Date(u-p);n(0,s=a.getDate().toString().padStart(2,"0")),n(1,l=a.getHours().toString().padStart(2,"0")),n(2,r=a.getMinutes().toString().padStart(2,"0")),n(3,i=a.getSeconds().toString().padStart(2,"0")),await He(1)}}return oe(c),t.$$set=u=>{"final"in u&&n(4,o=u.final)},[s,l,r,i,o]}class Ye extends U{constructor(e){super(),J(this,e,Ue,Je,M,{final:4})}}function Ke(t){let e,n,s,l,r,i,o,c,u;return{c(){e=m("dialog"),n=m("div"),s=m("h3"),s.textContent="Input github username!",l=S(),r=m("input"),i=S(),o=m("button"),o.textContent="login",_(s,"class","font-bold text-lg font-mono tracking-wider"),_(r,"class","my-4 input input-bordered focus-within:outline-none w-3/5"),_(o,"class","btn btn-outline btn-neutral hover:btn-success h-2/5 mx-3 w-1/5"),_(n,"class","modal-box bg-transparent outline outline-2 backdrop-blur-md"),_(e,"id","login"),_(e,"class","modal")},m(a,p){P(a,e,p),f(e,n),f(n,s),f(n,l),f(n,r),X(r,t[0]),f(n,i),f(n,o),t[4](e),c||(u=[W(r,"input",t[3]),W(o,"click",t[2])],c=!0)},p(a,[p]){p&1&&r.value!==a[0]&&X(r,a[0])},i:v,o:v,d(a){a&&k(e),t[4](null),c=!1,A(u)}}}function Ve(t,e,n){let s,l;function r(){localStorage.setItem("user",s),l.close()}function i(){s=this.value,n(0,s)}function o(c){ne[c?"unshift":"push"](()=>{l=c,n(1,l)})}return[s,l,r,i,o]}class Ge extends U{constructor(e){super(),J(this,e,Ve,Ke,M,{})}}function Qe(t){let e,n;return e=new je({}),{c(){K(e.$$.fragment)},m(s,l){F(e,s,l),n=!0},i(s){n||(I(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){H(e,s)}}}function We(t){let e,n,s,l,r,i;return e=new Re({}),s=new Ye({props:{final:"31 dec 2023"}}),r=new Ge({}),{c(){K(e.$$.fragment),n=S(),K(s.$$.fragment),l=S(),K(r.$$.fragment)},m(o,c){F(e,o,c),P(o,n,c),F(s,o,c),P(o,l,c),F(r,o,c),i=!0},i(o){i||(I(e.$$.fragment,o),I(s.$$.fragment,o),I(r.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),N(s.$$.fragment,o),N(r.$$.fragment,o),i=!1},d(o){o&&(k(n),k(l)),H(e,o),H(s,o),H(r,o)}}}function Xe(t){let e,n,s,l;const r=[We,Qe],i=[];function o(c,u){return c[0]=="home"?0:c[0]=="dashboard"?1:-1}return~(n=o(t))&&(s=i[n]=r[n](t)),{c(){e=m("main"),s&&s.c(),_(e,"class","bg-black h-[100svh] flex flex-col items-center gap-4")},m(c,u){P(c,e,u),~n&&i[n].m(e,null),l=!0},p(c,[u]){let a=n;n=o(c),n!==a&&(s&&(De(),N(i[a],1,1,()=>{i[a]=null}),Ee()),~n?(s=i[n],s||(s=i[n]=r[n](c),s.c()),I(s,1),s.m(e,null)):s=null)},i(c){l||(I(s),l=!0)},o(c){N(s),l=!1},d(c){c&&k(e),~n&&i[n].d()}}}function Ze(t,e,n){let s;return _e.subscribe(l=>{n(0,s=l),console.log(s)}),oe(()=>{window.location.href.includes("localhost")||be.set(window.location.href),localStorage.getItem("user")?console.log("loggedin"):document.getElementById("login").showModal()}),[s]}class et extends U{constructor(e){super(),J(this,e,Ze,Xe,M,{})}}new et({target:document.getElementById("app")});
